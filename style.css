:root {
    --bg: #ffffff;
    --panel-bg: #f7f7f8;
    --text: #111827;
    --muted: #6b7280;
}

body {
    font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    background: var(--bg);
    color: var(--text);
    margin: 0;
}

.container { display:flex; gap:16px; padding:18px; }
.panel { background:var(--panel-bg); padding:16px; border-radius:8px; width:100%; max-width:720px; }

.brand { display:flex; gap:12px; align-items:center; margin-bottom:12px; }
.brand .logo { border-radius:6px; }
.brand h2 { margin:0; font-size:1.1rem; }
.brand .small { font-size:0.85rem; }
.muted { color:var(--muted); }

/* Dark mode styles — applied when `body` has `.dark` */
body.dark {
    --bg: #0b1220;
    --panel-bg: #0f1724;
    --text: #e6eef8;
    --muted: #9aa8bf; /* lighter muted for dark backgrounds */
}

/* Make the author credit extra visible in dark mode: pure white */
body.dark .brand .muted {
    color: #ffffff !important;
}

/* Small responsive/layout bits (optional) */
.sidebar { width:260px; }
.input-area { display:flex; gap:8px; margin-top:12px; }
:root{
    --bg: #f2f2f2;
    --panel: #ffffff;
    --muted: #eeeeee;
    --accent: #0b63ff;
    --text: #111827;
    --radius: 10px;
    --shadow: 0 6px 18px rgba(16,24,40,0.08);
}

/* Dark theme — applied when `dark` class is added to <html> */
.dark{
    --bg: #000000;
    --panel: #0b0b0b;
    --muted: #0a0a0a;
    --accent: #3b82f6;
    --text: #ffffff;
    --shadow: 0 6px 20px rgba(0,0,0,0.6);
}

*{box-sizing:border-box}
body {
    font-family: Inter, Arial, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
    background: var(--bg);
    color: var(--text);
    padding: 20px;
    -webkit-font-smoothing:antialiased;
}

.container {
    max-width: 880px;
    width: 100%;
    margin: 24px auto;
    background: linear-gradient(180deg, var(--panel), var(--panel));
    padding: 18px;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    display: grid;
    grid-template-columns: 1fr 320px;
    gap: 18px;
}

/* Single column on small screens */
@media (max-width: 760px){
    .container{grid-template-columns: 1fr}
}

.panel{background:var(--panel);padding:12px;border-radius:calc(var(--radius) - 4px)}

#chat {
    height: 60vh;
    min-height: 260px;
    max-height: 720px;
    overflow-y: auto;
    background: var(--muted);
    padding: 14px;
    border-radius: calc(var(--radius) - 6px);
    margin-bottom: 10px;
    display:flex;
    flex-direction:column;
    gap:8px;
}

/* Force chat area to pure black in dark mode for maximum contrast */
.dark #chat,
body.dark #chat {
    background: #000000 !important;
    color: #f3f7fb !important;
}

.message{
    padding:10px 12px;
    border-radius:8px;
    max-width:78%;
    line-height:1.3;
}
.message.user{background:linear-gradient(90deg, #cfe9ff, #e6f0ff);align-self:flex-end;color:var(--text)}
.message.ai{background:linear-gradient(90deg, #f6f7fb, #ffffff);align-self:flex-start;color:var(--text)}

/* Dark mode message adjustments */
.dark .message.user{background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));color:var(--text)}
.dark .message.ai{background:linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));color:var(--text)}

.message.debug{background:transparent;color:rgba(15,23,42,0.6);font-style:italic;align-self:center}

.input-area {
    display: flex;
    gap: 8px;
    align-items: center;
}

input[type="text"], textarea{
    flex: 1;
    padding: 12px 14px;
    border-radius: 8px;
    border: 1px solid rgba(15,23,42,0.08);
    background: transparent;
    color: inherit;
}

input[type="text"]:focus, textarea:focus{outline:3px solid color-mix(in srgb, var(--accent) 12%, transparent);}

button {
    display:inline-flex;align-items:center;gap:8px;
    padding:10px 12px;
    background:var(--accent);
    color:white;border:none;border-radius:8px;cursor:pointer;
}
button:hover{filter:brightness(0.98)}
button:active{transform:translateY(1px)}
button:focus{outline:3px solid color-mix(in srgb, var(--accent) 18%, transparent)}

/* Right column controls */
.sidebar{padding:12px}
.muted{color:rgba(17,24,39,0.6);font-size:0.95rem}

/* Author credit — keep readable in both themes */
.author-credit{color:rgba(17,24,39,0.6);font-size:0.9rem}
.author-credit a{color:inherit;text-decoration:underline}
.dark .author-credit{color:#ffffff !important}
.dark .author-credit a{color:#ffffff !important}

/* custom scrollbar for WebKit */
#chat::-webkit-scrollbar{width:10px}
#chat::-webkit-scrollbar-track{background:transparent;border-radius:10px}
#chat::-webkit-scrollbar-thumb{background:linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.06));border-radius:10px}

/* small helpers */
.small{font-size:0.9rem}
.row{display:flex;gap:8px;align-items:center}

/* branding */
.brand{display:flex;align-items:center;gap:12px;margin-bottom:8px}
.brand .logo{width:40px;height:40px;border-radius:8px;box-shadow:0 4px 10px rgba(12,20,40,0.12)}

/* Accessibility: high-contrast focus for keyboard users */
*:focus{outline-offset:2px}

/* Responsive tweaks for very small screens */
@media (max-width: 420px){
    .container{padding:12px}
    button{padding:10px}
}
